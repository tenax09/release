import{_ as T}from"./index-d036b99c.js";/* empty css                   *//* empty css                      *//* empty css               *//* empty css                  *//* empty css                     *//* empty css                        *//* empty css                    */import{b as U,r as m,ae as q,l as h,B as D,C as w,F as e,G as o,a1 as K,af as j,p as I,ay as P,a5 as A,K as O,an as Q,aK as F,ai as G,u as d,V as H,aL as J,O as i,aM as R,D as g,ax as W,a2 as X,al as Y,am as Z}from"./element-plus-b8725afa.js";import{g as $}from"./log-539583be.js";import{f as ee}from"./format-20468769.js";const ae={class:"log-container"},te={class:"filter-container"},le={class:"pagination"},ne={__name:"index",setup(oe){const a=U({page:1,page_size:20,module:"",action:"",admin_name:""}),f=m([]),v=m(0),c=m(!1),u=async()=>{c.value=!0;try{const t=await $(a);f.value=t.data.list,v.value=t.data.total}catch(t){console.error("获取日志列表失败:",t)}c.value=!1},p=()=>{a.page=1,u()},x=()=>{a.module="",a.action="",a.admin_name="",p()},V=t=>{a.page_size=t,u()},z=t=>{a.page=t,u()},C=t=>({user:"用户管理",order:"订单管理",funder:"资金方管理",bank:"银行账户",admin:"管理员"})[t]||t,E=t=>({audit_pass:"审核通过",audit_reject:"审核拒绝",audit_pending:"待审核",review:"审核",create:"创建",update:"更新",delete:"删除",query:"查询"})[t]||t,k=t=>{switch(t){case"audit_pass":return"success";case"audit_reject":return"danger";case"audit_pending":return"warning";case"review":return"success";case"create":return"success";case"update":return"warning";case"delete":return"danger";case"query":return"info";default:return"info"}};return q(()=>{u()}),(t,l)=>{const s=W,b=P,_=X,M=A,y=O,r=Y,B=Z,L=Q,N=F,S=G;return h(),D("div",ae,[w("div",te,[e(b,{modelValue:a.module,"onUpdate:modelValue":l[0]||(l[0]=n=>a.module=n),placeholder:"操作模块",clearable:"",class:"filter-item",style:{width:"130px"}},{default:o(()=>[e(s,{label:"用户管理",value:"user"}),e(s,{label:"订单管理",value:"order"}),e(s,{label:"资金方管理",value:"funder"}),e(s,{label:"银行账户",value:"bank"}),e(s,{label:"管理员",value:"admin"})]),_:1},8,["modelValue"]),e(b,{modelValue:a.action,"onUpdate:modelValue":l[1]||(l[1]=n=>a.action=n),placeholder:"操作动作",clearable:"",class:"filter-item",style:{width:"130px"}},{default:o(()=>[e(s,{label:"创建",value:"create"}),e(s,{label:"更新",value:"update"}),e(s,{label:"删除",value:"delete"}),e(s,{label:"查询",value:"query"})]),_:1},8,["modelValue"]),e(M,{modelValue:a.admin_name,"onUpdate:modelValue":l[2]||(l[2]=n=>a.admin_name=n),placeholder:"操作人",style:{width:"200px"},class:"filter-item",onKeyup:K(p,["enter","native"])},{prefix:o(()=>[e(_,null,{default:o(()=>[e(d(H))]),_:1})]),_:1},8,["modelValue"]),e(y,{class:"filter-item",type:"primary",onClick:p},{default:o(()=>[e(_,null,{default:o(()=>[e(d(J))]),_:1}),l[5]||(l[5]=i(" 搜索 "))]),_:1,__:[5]}),e(y,{class:"filter-item",onClick:x},{default:o(()=>[e(_,null,{default:o(()=>[e(d(R))]),_:1}),l[6]||(l[6]=i(" 重置 "))]),_:1,__:[6]})]),j((h(),I(L,{data:f.value,border:"",fit:"","highlight-current-row":"",style:{width:"100%"}},{default:o(()=>[e(r,{prop:"admin_name",label:"操作人",width:"120"}),e(r,{prop:"module",label:"操作模块",width:"120"},{default:o(({row:n})=>[i(g(C(n.module)),1)]),_:1}),e(r,{prop:"action",label:"操作动作",width:"120"},{default:o(({row:n})=>[e(B,{type:k(n.action)},{default:o(()=>[i(g(E(n.action)),1)]),_:2},1032,["type"])]),_:1}),e(r,{prop:"content",label:"操作内容","show-overflow-tooltip":"",width:"560"}),e(r,{prop:"reference_type",label:"关联",width:"90"}),e(r,{prop:"created_at",label:"操作时间",width:"180"},{default:o(({row:n})=>[i(g(d(ee)(n.created_at)),1)]),_:1})]),_:1},8,["data"])),[[S,c.value]]),w("div",le,[e(N,{"current-page":a.page,"onUpdate:currentPage":l[3]||(l[3]=n=>a.page=n),"page-size":a.page_size,"onUpdate:pageSize":l[4]||(l[4]=n=>a.page_size=n),"page-sizes":[10,20,50,100],total:v.value,background:!0,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:V,onCurrentChange:z},null,8,["current-page","page-size","total"])])])}}},ve=T(ne,[["__scopeId","data-v-49c0ca44"]]);export{ve as default};
