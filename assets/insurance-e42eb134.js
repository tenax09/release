import{_ as Ra,b as Ia,u as La}from"./index-39d81bcc.js";/* empty css               *//* empty css                    *//* empty css                 *//* empty css                       *//* empty css                     *//* empty css                        *//* empty css                        *//* empty css                  *//* empty css                *//* empty css                   *//* empty css               *//* empty css                       */import{r as n,j as We,w as Ba,ae as $a,l as g,B as w,C as s,F as a,G as l,p as L,S as T,af as Je,u as V,E as i,aE as qa,ag as Aa,M as za,ai as Oa,aG as Pa,O as u,av as He,aH as Ke,aI as Na,Q as ja,as as Ga,D as p,H as se,I as oe,X as Qe,aw as be,J as Wa,a2 as Ja,K as Ha,ao as Ka,ah as Qa,aD as Xa,am as Za,al as el,an as al,a5 as ll,a6 as tl,ax as sl,ay as ol,aJ as ul,aK as nl,aL as rl,a7 as dl,aB as il,aC as pl}from"./element-plus-eb4b90a0.js";import{i as ml,a as vl,j as Xe,k as cl,l as _l,u as fl,e as gl,m as bl,n as yl}from"./order-a79ca20f.js";import{a as wl}from"./user-5a4bbeca.js";import{a as Vl,A as kl,d as xl}from"./AttachmentUpload-b3b6793c.js";/* empty css                 */import"./format-20468769.js";const hl={class:"insurance-detail"},Ul={class:"page-header"},Cl={class:"header-actions"},Dl={class:"stat-item"},Fl={class:"stat-number"},Tl={class:"stat-item"},Sl={class:"stat-number"},El={class:"stat-item total"},Ml={class:"stat-number"},Yl={class:"status-stat-item"},Rl={class:"status-stat-label"},Il={class:"status-stat-count"},Ll={class:"attachment-status"},Bl={class:"status-item"},$l={class:"status-item"},ql={class:"stat-item total"},Al={class:"stat-number"},zl={class:"stat-item"},Ol={class:"stat-number"},Pl={class:"stat-item"},Nl={class:"stat-number"},jl={class:"status-stat-item"},Gl={class:"status-stat-label"},Wl={class:"status-stat-count"},Jl={class:"insured-input"},Hl={class:"dialog-footer"},Kl={class:"insured-input"},Ql={class:"dialog-footer"},Xl={class:"upload-content"},Zl={class:"upload-tips"},et={key:0,class:"import-result"},at={class:"result-summary"},lt={class:"stat-item"},tt={class:"stat-number total"},st={class:"stat-item"},ot={class:"stat-number success"},ut={class:"stat-item"},nt={class:"stat-number fail"},rt={key:0,class:"error-list"},dt={class:"dialog-footer"},it={class:"upload-content"},pt={class:"upload-tips"},mt={key:0,class:"upload-status"},vt={class:"status-content"},ct={class:"dialog-footer"},_t={class:"upload-content"},ft={class:"upload-tips"},gt={key:0,class:"upload-status"},bt={class:"status-content"},yt={class:"dialog-footer"},wt={class:"dialog-footer"},Vt={class:"upload-content"},kt={class:"upload-tips"},xt={class:"tips-content"},ht={key:0},Ut={key:1},Ct={key:0,class:"import-result"},Dt={class:"result-summary"},Ft={class:"stat-item"},Tt={class:"stat-number total"},St={class:"stat-item"},Et={class:"stat-number success"},Mt={class:"stat-item"},Yt={class:"stat-number fail"},Rt={key:0,class:"result-details"},It={class:"dialog-footer"},Lt={__name:"insurance",setup(Bt){const k=Ia(),Le=La(),ue=n(!1),P=n(!1),h=n([]),f=n("车险"),Ze=n({}),ea=n({}),A=n([]),ne=n(!1),W=n(null),ye=n(!1),B=n(null),we=n([]),U=n(null),J=n(!1),Ve=n(null),H=n(!1),M=n([]),ke=n([]),K=n(!1),xe=n(null),re=n(!1),Y=n([]),he=n([]),Q=n(!1),Ue=n(null),Ce=n(!1),S=n(null),X=n({status:""}),aa={status:[{required:!0,message:"请选择新状态",trigger:"change"}]},de=n(!1),Z=n(null),De=n(!1),$=n(null),Fe=n([]),C=n(null),Te=n(!1),N=n(0),ee=n(""),ie=n(""),pe=n(!1),me=n([]),ae=n(!1),Se=n(null),c=n({car_no:"",vin:"",insurance_no:"",insured:"",same_as_borrower:!1,commercial_amount:void 0,compulsory_amount:void 0,vehicle_tax_amount:void 0,start_date:"",end_date:""}),la={car_no:[{required:!0,message:"请输入车牌号",trigger:"blur"}],vin:[{required:!0,message:"请输入车架号",trigger:"blur"}],insurance_no:[{required:!0,message:"请输入投保单号",trigger:"blur"}],insured:[{required:!0,message:"请选择被保人",trigger:"change"}],start_date:[{required:!0,message:"请选择开始日期",trigger:"change"}],end_date:[{required:!0,message:"请选择结束日期",trigger:"change"}]},le=n(!1),Ee=n(null),m=n({track_no:"",insurance_no:"",name:"",quantity:"",carrier:"",consignee:"",insured:"",same_as_borrower:!1,commercial_amount:void 0,start_date:"",end_date:""}),ta={track_no:[{required:!0,message:"请输入运输编号",trigger:"blur"}],insurance_no:[{required:!0,message:"请输入投保单号",trigger:"blur"}],name:[{required:!0,message:"请输入货物名称",trigger:"blur"}],quantity:[{required:!0,message:"请输入货物数量",trigger:"blur"}],carrier:[{required:!0,message:"请输入承运人",trigger:"blur"}],consignee:[{required:!0,message:"请输入收货人",trigger:"blur"}],insured:[{required:!0,message:"请选择被保人",trigger:"change"}],start_date:[{required:!0,message:"请选择开始日期",trigger:"change"}],end_date:[{required:!0,message:"请选择结束日期",trigger:"change"}]},te=o=>({正常:"success",结清退保:"success",逾期退保:"danger",提前结清:"success",逾期结清:"danger",退保结清:"danger"})[o]||"info",Be=o=>({正常:"status-normal",结清退保:"status-success",逾期退保:"status-danger",提前结清:"status-success",逾期结清:"status-danger",退保结清:"status-danger"})[o]||"status-info",sa=()=>{Le.back()},oa=()=>{Le.push(`/order/detail/${k.params.id}`)},D=async()=>{ue.value=!0;try{const o=await ml(k.params.id);h.value=o.data.insurances||[],o.data.type&&(f.value=o.data.type)}catch{i.error("获取投保信息失败")}ue.value=!1},F=o=>o?`¥${o.toFixed(2)}`:"¥0.00",ve=We(()=>{if(f.value!=="车险"||!h.value.length)return{commercialTotal:0,compulsoryTotal:0,vehicleTaxTotal:0,grandTotal:0,statusStats:{}};const o=h.value.reduce((e,d)=>{e.commercialTotal+=d.commercial_amount||0,e.compulsoryTotal+=d.compulsory_amount||0,e.vehicleTaxTotal+=d.vehicle_tax_amount||0;const r=d.status||"未知";return e.statusStats[r]||(e.statusStats[r]={total:0,count:0}),e.statusStats[r].total+=(d.commercial_amount||0)+(d.compulsory_amount||0)+(d.vehicle_tax_amount||0),e.statusStats[r].count+=1,e},{commercialTotal:0,compulsoryTotal:0,vehicleTaxTotal:0,statusStats:{}});return o.grandTotal=o.commercialTotal+o.compulsoryTotal+o.vehicleTaxTotal,o}),Me=We(()=>{if(f.value!=="货运险"||!h.value.length)return{commercialTotal:0,averageAmount:0,statusStats:{}};const o=h.value.reduce((r,R)=>r+(R.commercial_amount||0),0),e=o/h.value.length,d={};return h.value.forEach(r=>{const R=r.status||"未知";d[R]||(d[R]={total:0,count:0}),d[R].total+=r.commercial_amount||0,d[R].count+=1}),{commercialTotal:o,averageAmount:e,statusStats:d}}),ua=()=>{if(f.value==="车险"){if(c.value={car_no:"",vin:"",insurance_no:"",insured:"",same_as_borrower:!1,commercial_amount:void 0,compulsory_amount:void 0,vehicle_tax_amount:void 0,start_date:"",end_date:""},A.value.length===2){const o=A.value.find(e=>e.value!=="同借款人");o&&(c.value.insured=o.value)}ae.value=!0}else if(f.value==="货运险"){if(m.value={track_no:"",insurance_no:"",name:"",quantity:"",carrier:"",consignee:"",insured:"",same_as_borrower:!1,commercial_amount:void 0,start_date:"",end_date:""},A.value.length===2){const o=A.value.find(e=>e.value!=="同借款人");o&&(m.value.insured=o.value)}le.value=!0}},na=async()=>{Se.value&&await Se.value.validate(async o=>{if(o){P.value=!0;try{await Xe(k.params.id,c.value),i.success("添加车险信息成功"),ae.value=!1,D()}catch(e){i.error("添加车险信息失败："+(e.message||"未知错误"))}P.value=!1}})},ra=async()=>{Ee.value&&await Ee.value.validate(async o=>{if(o){P.value=!0;try{await Xe(k.params.id,m.value),i.success("添加货运险信息成功"),le.value=!1,D()}catch(e){i.error("添加货运险信息失败："+(e.message||"未知错误"))}P.value=!1}})},$e=async o=>{try{await Wa.confirm("确定要删除该投保信息吗？","提示",{type:"warning"}),await cl(k.params.id,o.id),i.success("删除成功"),D()}catch(e){e!=="cancel"&&i.error("删除失败："+(e.message||"未知错误"))}},qe=(o,e)=>{const d=e==="car"?o.car_no:o.track_no;ie.value=d,N.value=o.id,ee.value=e,Te.value=!0},Ae=(o,e)=>{const d=e==="car"?o.car_no:o.track_no;ie.value=d,N.value=o.id,ee.value=e,me.value=o.attachments||[],pe.value=!0};Ba(pe,o=>{o||(me.value=[],N.value=0,ee.value="")});const da=async()=>{await D();const o=h.value.find(e=>e.id===N.value);o&&(me.value=o.attachments||[])},ia=async o=>{try{await xl(o)}catch(e){i.error("删除失败："+(e.message||"未知错误"))}},pa=async()=>{window.open(`/api/admin/orders/insurances/download-template?type=${f.value}`,"_blank")},ma=async()=>{window.open(`/api/admin/orders/insurances/download-status-template?type=${f.value}`,"_blank")},va=()=>{$.value=null,Fe.value=[],C.value=null,de.value=!0},ca=o=>{if($.value=o.raw,!["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(o.raw.type)&&!o.name.toLowerCase().endsWith(".xlsx")&&!o.name.toLowerCase().endsWith(".xls")){i.error("请上传Excel文件(.xlsx或.xls)"),Z.value.clearFiles(),$.value=null;return}if(o.raw.size>10*1024*1024){i.error("文件大小不能超过10MB"),Z.value.clearFiles(),$.value=null;return}},_a=async()=>{if(!$.value){i.error("请选择要上传的文件");return}const o=new FormData;o.append("file",$.value),De.value=!0,C.value=null;try{const e=await _l(k.params.id,o);C.value=e.data,e.data.success_count>0?(D(),i.success(`更新完成：成功${e.data.success_count}条，失败${e.data.fail_count}条`)):i.warning("没有成功更新任何数据，请检查文件格式")}catch(e){i.error("更新失败："+(e.message||"未知错误"))}De.value=!1},fa=()=>{de.value=!1,$.value=null,Fe.value=[],C.value=null,Z.value&&Z.value.clearFiles()},ze=o=>{S.value=o,X.value.status="",Q.value=!0},ga=async()=>{Ue.value&&await Ue.value.validate(async o=>{if(o){Ce.value=!0;try{await fl(k.params.id,S.value.id,X.value),i.success("状态更新成功"),Q.value=!1,D()}catch(e){i.error("状态更新失败："+(e.message||"未知错误"))}Ce.value=!1}})},ba=()=>{B.value=null,we.value=[],U.value=null,ne.value=!0},ya=o=>{if(B.value=o.raw,!["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(o.raw.type)&&!o.name.toLowerCase().endsWith(".xlsx")&&!o.name.toLowerCase().endsWith(".xls")){i.error("请上传Excel文件(.xlsx或.xls)"),W.value.clearFiles(),B.value=null;return}if(o.raw.size>10*1024*1024){i.error("文件大小不能超过10MB"),W.value.clearFiles(),B.value=null;return}},wa=async()=>{if(!B.value){i.error("请选择要上传的文件");return}const o=new FormData;o.append("file",B.value),ye.value=!0,U.value=null;try{const e=await gl(k.params.id,o);U.value=e.data,e.data.success>0?(D(),i.success(`导入完成：成功${e.data.success}条，失败${e.data.fail}条`)):i.warning("没有成功导入任何数据，请检查文件格式")}catch(e){i.error("导入失败："+(e.message||"未知错误"))}ye.value=!1},Va=()=>{ne.value=!1,B.value=null,we.value=[],U.value=null,W.value&&W.value.clearFiles()},Oe=o=>{o==="car"?c.value.same_as_borrower?c.value.insured="同借款人":c.value.insured="":o==="cargo"&&(m.value.same_as_borrower?m.value.insured="同借款人":m.value.insured="")},ka=()=>{M.value=[],ke.value=[],J.value=!0},xa=o=>{if(!["image/jpeg","image/jpg","image/png","image/bmp","image/tiff","image/webp"].includes(o.raw.type))return i.error("请上传图片文件"),!1;if(o.raw.size>5*1024*1024)return i.error("图片大小不能超过5MB"),!1;M.value.push(o.raw)},ha=o=>{const e=M.value.findIndex(d=>d.name===o.name);e!==-1&&M.value.splice(e,1)},Ua=()=>{J.value=!1,M.value=[],ke.value=[],Ve.value&&Ve.value.clearFiles()},Ca=async()=>{if(M.value.length===0){i.error("请选择要上传的行驶证图片");return}const o=new FormData;M.value.forEach(e=>{o.append("images",e)}),H.value=!0;try{await bl(k.params.id,o),i.success("行驶证上传成功，正在后台处理OCR识别"),setTimeout(()=>{H.value=!1,J.value=!1,D()},2e3)}catch(e){i.error("行驶证上传失败："+(e.message||"未知错误"))}H.value=!1},Da=()=>{Y.value=[],he.value=[],K.value=!0},Fa=o=>{if(!["image/jpeg","image/jpg","image/png","image/bmp","image/tiff","image/webp"].includes(o.raw.type))return i.error("请上传图片文件"),!1;if(o.raw.size>5*1024*1024)return i.error("图片大小不能超过5MB"),!1;Y.value.push(o.raw)},Ta=o=>{const e=Y.value.findIndex(d=>d.name===o.name);e!==-1&&Y.value.splice(e,1)},Sa=()=>{K.value=!1,Y.value=[],he.value=[],xe.value&&xe.value.clearFiles()},Ea=async()=>{if(Y.value.length===0){i.error("请选择要上传的投保单图片");return}const o=new FormData;Y.value.forEach(e=>{o.append("images",e)}),re.value=!0;try{await yl(k.params.id,o),i.success("投保单上传成功，正在后台处理OCR识别"),setTimeout(()=>{re.value=!1,K.value=!1,D()},2e3)}catch(e){i.error("投保单上传失败："+(e.message||"未知错误"))}},ce=(o,e)=>!o||o.length===0?!1:o.some(d=>d.remark===e),Ma=async()=>{try{const o=await vl(k.params.id);Ze.value=o.data,o.data.user_id&&await Ya(o.data.user_id)}catch{i.error("获取订单详情失败")}},Ya=async o=>{try{const e=await wl(o);ea.value=e.data;const d=e.data.insureds||"",r=[];r.push({value:"同借款人",label:"同借款人"}),d&&d.split(";").filter(y=>y.trim()).forEach(y=>{const E=y.split(",");if(E.length>=2){const q=E[0].trim(),x=E[1].trim();r.push({value:q,label:x?`${q} (${x})`:q})}}),A.value=r}catch{i.error("获取用户配置失败")}};return $a(()=>{D(),Ma()}),(o,e)=>{var je,Ge;const d=Ja,r=Ha,R=qa,y=Ka,E=Qa,q=Xa,x=Za,j=Aa,v=el,Ye=al,I=ll,b=tl,z=sl,Re=ol,Pe=ul,_e=nl,fe=rl,Ie=dl,O=za,G=il,ge=pl,Ne=Oa;return g(),w("div",hl,[s("div",Ul,[a(R,{onBack:sa,title:`${f.value}`},{extra:l(()=>[s("div",Cl,[a(r,{onClick:oa},{default:l(()=>[a(d,null,{default:l(()=>[a(V(Pa))]),_:1}),e[36]||(e[36]=u(" 返回详情 "))]),_:1,__:[36]}),a(r,{onClick:pa},{default:l(()=>[a(d,null,{default:l(()=>[a(V(He))]),_:1}),e[37]||(e[37]=u(" 下载模板 "))]),_:1,__:[37]}),a(r,{type:"success",onClick:ba},{default:l(()=>[a(d,null,{default:l(()=>[a(V(Ke))]),_:1}),e[38]||(e[38]=u(" 批量导入 "))]),_:1,__:[38]}),f.value==="车险"?(g(),L(r,{key:0,type:"warning",onClick:ka},{default:l(()=>[a(d,null,{default:l(()=>[a(V(Na))]),_:1}),e[39]||(e[39]=u(" 上传行驶证 "))]),_:1,__:[39]})):T("",!0),a(r,{type:"info",onClick:Da},{default:l(()=>[a(d,null,{default:l(()=>[a(V(ja))]),_:1}),e[40]||(e[40]=u(" 上传投保单 "))]),_:1,__:[40]}),a(r,{type:"warning",onClick:ma},{default:l(()=>[a(d,null,{default:l(()=>[a(V(He))]),_:1}),e[41]||(e[41]=u(" 下载状态模板 "))]),_:1,__:[41]}),a(r,{type:"danger",onClick:va},{default:l(()=>[a(d,null,{default:l(()=>[a(V(Ke))]),_:1}),e[42]||(e[42]=u(" 批量更新状态 "))]),_:1,__:[42]}),a(r,{type:"primary",onClick:ua},{default:l(()=>[a(d,null,{default:l(()=>[a(V(Ga))]),_:1}),u(" 添加"+p(f.value),1)]),_:1})])]),_:1},8,["title"])]),f.value==="车险"?(g(),L(j,{key:0,class:"detail-card"},{default:l(()=>[a(E,{gutter:16},{default:l(()=>[a(y,{span:8},{default:l(()=>[s("div",Dl,[s("div",Fl,p(F(ve.value.commercialTotal)),1),e[43]||(e[43]=s("div",{class:"stat-label"},"商业险总金额",-1))])]),_:1}),a(y,{span:8},{default:l(()=>[s("div",Tl,[s("div",Sl,p(F(ve.value.compulsoryTotal)),1),e[44]||(e[44]=s("div",{class:"stat-label"},"交强险总金额",-1))])]),_:1}),a(y,{span:8},{default:l(()=>[s("div",El,[s("div",Ml,p(F(ve.value.grandTotal)),1),e[45]||(e[45]=s("div",{class:"stat-label"},"合计总保费",-1))])]),_:1})]),_:1}),a(q,{"content-position":"left"},{default:l(()=>e[46]||(e[46]=[u("按状态统计")])),_:1,__:[46]}),a(E,{gutter:16},{default:l(()=>[(g(!0),w(se,null,oe(ve.value.statusStats,(t,_)=>(g(),L(y,{span:4,key:_},{default:l(()=>[s("div",Yl,[s("div",{class:Qe(["status-stat-number",Be(_)])},p(F(t.total)),3),s("div",Rl,[a(x,{type:te(_),size:"small"},{default:l(()=>[u(p(_),1)]),_:2},1032,["type"])]),s("div",Il,p(t.count)+"笔",1)])]),_:2},1024))),128))]),_:1})]),_:1})):T("",!0),f.value==="车险"?Je((g(),L(j,{key:1,class:"detail-card"},{default:l(()=>[a(Ye,{data:h.value,border:"",style:{width:"100%"}},{default:l(()=>[a(v,{prop:"status",label:"状态",width:"100",align:"center"},{default:l(({row:t})=>[a(x,{type:te(t.status)},{default:l(()=>[u(p(t.status),1)]),_:2},1032,["type"])]),_:1}),a(v,{prop:"car_no",label:"车牌号",width:"100"}),a(v,{prop:"vin",label:"车架号","min-width":"180"}),a(v,{prop:"issue_date",label:"附件标记",width:"120",align:"center"},{default:l(t=>[s("div",Ll,[s("div",Bl,[e[47]||(e[47]=s("span",{class:"status-label"},"行驶证:",-1)),a(x,{type:ce(t.row.attachments,"行驶证")?"success":"info",size:"small"},{default:l(()=>[u(p(ce(t.row.attachments,"行驶证")?"已上传":"未上传"),1)]),_:2},1032,["type"])]),s("div",$l,[e[48]||(e[48]=s("span",{class:"status-label"},"投保单:",-1)),a(x,{type:ce(t.row.attachments,"投保单")?"success":"info",size:"small"},{default:l(()=>[u(p(ce(t.row.attachments,"投保单")?"已上传":"未上传"),1)]),_:2},1032,["type"])])])]),_:1}),a(v,{prop:"insured",label:"被保人",width:"280"}),a(v,{prop:"commercial_amount",label:"商业险",width:"100"},{default:l(t=>[u(p(F(t.row.commercial_amount)),1)]),_:1}),a(v,{prop:"compulsory_amount",label:"交强险",width:"100"},{default:l(t=>[u(p(F(t.row.compulsory_amount)),1)]),_:1}),a(v,{prop:"vehicle_tax_amount",label:"车船税",width:"100"},{default:l(t=>[u(p(F(t.row.vehicle_tax_amount)),1)]),_:1}),a(v,{prop:"start_date",label:"开始日期",width:"110"}),a(v,{prop:"end_date",label:"结束日期",width:"110"}),a(v,{label:"操作",width:"200",fixed:"right"},{default:l(t=>[a(r,{type:"info",link:"",onClick:_=>Ae(t.row,"car")},{default:l(()=>e[49]||(e[49]=[u("附件")])),_:2,__:[49]},1032,["onClick"]),a(r,{type:"primary",link:"",onClick:_=>qe(t.row,"car")},{default:l(()=>e[50]||(e[50]=[u("上传")])),_:2,__:[50]},1032,["onClick"]),a(r,{type:"warning",link:"",onClick:_=>ze(t.row)},{default:l(()=>e[51]||(e[51]=[u("更新")])),_:2,__:[51]},1032,["onClick"]),a(r,{type:"danger",link:"",onClick:_=>$e(t.row)},{default:l(()=>e[52]||(e[52]=[u("删除")])),_:2,__:[52]},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})),[[Ne,ue.value]]):T("",!0),f.value==="货运险"?(g(),L(j,{key:2,class:"detail-card"},{default:l(()=>[a(E,{gutter:16},{default:l(()=>[a(y,{span:8},{default:l(()=>[s("div",ql,[s("div",Al,p(F(Me.value.commercialTotal)),1),e[53]||(e[53]=s("div",{class:"stat-label"},"商业险总金额",-1))])]),_:1}),a(y,{span:8},{default:l(()=>[s("div",zl,[s("div",Ol,p(h.value.length),1),e[54]||(e[54]=s("div",{class:"stat-label"},"投保单数量",-1))])]),_:1}),a(y,{span:8},{default:l(()=>[s("div",Pl,[s("div",Nl,p(F(Me.value.averageAmount)),1),e[55]||(e[55]=s("div",{class:"stat-label"},"平均保费",-1))])]),_:1})]),_:1}),a(q,{"content-position":"left"},{default:l(()=>e[56]||(e[56]=[u("按状态统计")])),_:1,__:[56]}),a(E,{gutter:16},{default:l(()=>[(g(!0),w(se,null,oe(Me.value.statusStats,(t,_)=>(g(),L(y,{span:4,key:_},{default:l(()=>[s("div",jl,[s("div",{class:Qe(["status-stat-number",Be(_)])},p(F(t.total)),3),s("div",Gl,[a(x,{type:te(_),size:"small"},{default:l(()=>[u(p(_),1)]),_:2},1032,["type"])]),s("div",Wl,p(t.count)+"笔",1)])]),_:2},1024))),128))]),_:1})]),_:1})):T("",!0),f.value==="货运险"?Je((g(),L(j,{key:3,class:"detail-card"},{default:l(()=>[a(Ye,{data:h.value,border:"",style:{width:"100%"}},{default:l(()=>[a(v,{prop:"status",label:"状态",width:"100",align:"center"},{default:l(({row:t})=>[a(x,{type:te(t.status)},{default:l(()=>[u(p(t.status),1)]),_:2},1032,["type"])]),_:1}),a(v,{prop:"track_no",label:"运输编号",width:"140"}),a(v,{prop:"insurance_no",label:"投保单号","min-width":"180"}),a(v,{prop:"name",label:"货物名称",width:"120"}),a(v,{prop:"quantity",label:"货物数量",width:"100"}),a(v,{prop:"carrier",label:"承运人",width:"120"}),a(v,{prop:"consignee",label:"收货人",width:"120"}),a(v,{prop:"insured",label:"被保人",width:"280"}),a(v,{prop:"commercial_amount",label:"商业险",width:"120"},{default:l(t=>[u(p(F(t.row.commercial_amount)),1)]),_:1}),a(v,{prop:"start_date",label:"开始日期",width:"110"}),a(v,{prop:"end_date",label:"结束日期",width:"110"}),a(v,{label:"操作",width:"250",fixed:"right"},{default:l(t=>[a(r,{type:"info",link:"",onClick:_=>Ae(t.row,"cargo")},{default:l(()=>e[57]||(e[57]=[u("附件")])),_:2,__:[57]},1032,["onClick"]),a(r,{type:"primary",link:"",onClick:_=>qe(t.row,"cargo")},{default:l(()=>e[58]||(e[58]=[u("上传")])),_:2,__:[58]},1032,["onClick"]),a(r,{type:"warning",link:"",onClick:_=>ze(t.row)},{default:l(()=>e[59]||(e[59]=[u("更新")])),_:2,__:[59]},1032,["onClick"]),a(r,{type:"danger",link:"",onClick:_=>$e(t.row)},{default:l(()=>e[60]||(e[60]=[u("删除")])),_:2,__:[60]},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})),[[Ne,ue.value]]):T("",!0),a(O,{modelValue:ae.value,"onUpdate:modelValue":e[12]||(e[12]=t=>ae.value=t),title:"添加车险信息",width:"600px"},{footer:l(()=>[s("span",Hl,[a(r,{onClick:e[11]||(e[11]=t=>ae.value=!1)},{default:l(()=>e[62]||(e[62]=[u("取消")])),_:1,__:[62]}),a(r,{type:"primary",onClick:na,loading:P.value},{default:l(()=>e[63]||(e[63]=[u("确定")])),_:1,__:[63]},8,["loading"])])]),default:l(()=>[a(Ie,{ref_key:"carFormRef",ref:Se,model:c.value,rules:la,"label-width":"120px"},{default:l(()=>[a(b,{label:"车牌号",prop:"car_no"},{default:l(()=>[a(I,{modelValue:c.value.car_no,"onUpdate:modelValue":e[0]||(e[0]=t=>c.value.car_no=t),placeholder:"请输入车牌号"},null,8,["modelValue"])]),_:1}),a(b,{label:"车架号",prop:"vin"},{default:l(()=>[a(I,{modelValue:c.value.vin,"onUpdate:modelValue":e[1]||(e[1]=t=>c.value.vin=t),placeholder:"请输入车架号"},null,8,["modelValue"])]),_:1}),a(b,{label:"投保单号",prop:"insurance_no"},{default:l(()=>[a(I,{modelValue:c.value.insurance_no,"onUpdate:modelValue":e[2]||(e[2]=t=>c.value.insurance_no=t),placeholder:"请输入投保单号"},null,8,["modelValue"])]),_:1}),a(b,{label:"被保人",prop:"insured"},{default:l(()=>[s("div",Jl,[a(Re,{modelValue:c.value.insured,"onUpdate:modelValue":e[3]||(e[3]=t=>c.value.insured=t),placeholder:"请选择被保人",style:{width:"300px"},disabled:c.value.same_as_borrower},{default:l(()=>[(g(!0),w(se,null,oe(A.value,t=>(g(),L(z,{key:t.value,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"]),a(Pe,{modelValue:c.value.same_as_borrower,"onUpdate:modelValue":e[4]||(e[4]=t=>c.value.same_as_borrower=t),onChange:e[5]||(e[5]=t=>Oe("car")),class:"same-borrower-checkbox",style:{"margin-left":"10px"}},{default:l(()=>e[61]||(e[61]=[u(" 同借款人 ")])),_:1,__:[61]},8,["modelValue"])])]),_:1}),a(b,{label:"商业险",prop:"commercial_amount"},{default:l(()=>[a(_e,{modelValue:c.value.commercial_amount,"onUpdate:modelValue":e[6]||(e[6]=t=>c.value.commercial_amount=t),precision:2,step:100,min:0,style:{width:"100%"},placeholder:"0.00"},null,8,["modelValue"])]),_:1}),a(b,{label:"交强险",prop:"compulsory_amount"},{default:l(()=>[a(_e,{modelValue:c.value.compulsory_amount,"onUpdate:modelValue":e[7]||(e[7]=t=>c.value.compulsory_amount=t),precision:2,step:100,min:0,style:{width:"100%"},placeholder:"0.00"},null,8,["modelValue"])]),_:1}),a(b,{label:"车船税",prop:"vehicle_tax_amount"},{default:l(()=>[a(_e,{modelValue:c.value.vehicle_tax_amount,"onUpdate:modelValue":e[8]||(e[8]=t=>c.value.vehicle_tax_amount=t),precision:2,step:100,min:0,style:{width:"100%"},placeholder:"0.00"},null,8,["modelValue"])]),_:1}),a(b,{label:"开始日期",prop:"start_date"},{default:l(()=>[a(fe,{modelValue:c.value.start_date,"onUpdate:modelValue":e[9]||(e[9]=t=>c.value.start_date=t),type:"date",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",style:{width:"100%"},placeholder:"选择开始日期"},null,8,["modelValue"])]),_:1}),a(b,{label:"结束日期",prop:"end_date"},{default:l(()=>[a(fe,{modelValue:c.value.end_date,"onUpdate:modelValue":e[10]||(e[10]=t=>c.value.end_date=t),type:"date",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",style:{width:"100%"},placeholder:"选择结束日期"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),a(O,{modelValue:le.value,"onUpdate:modelValue":e[26]||(e[26]=t=>le.value=t),title:"添加货运险信息",width:"700px"},{footer:l(()=>[s("span",Ql,[a(r,{onClick:e[25]||(e[25]=t=>le.value=!1)},{default:l(()=>e[65]||(e[65]=[u("取消")])),_:1,__:[65]}),a(r,{type:"primary",onClick:ra,loading:P.value},{default:l(()=>e[66]||(e[66]=[u("确定")])),_:1,__:[66]},8,["loading"])])]),default:l(()=>[a(Ie,{ref_key:"cargoFormRef",ref:Ee,model:m.value,rules:ta,"label-width":"120px"},{default:l(()=>[a(b,{label:"运输编号",prop:"track_no"},{default:l(()=>[a(I,{modelValue:m.value.track_no,"onUpdate:modelValue":e[13]||(e[13]=t=>m.value.track_no=t),placeholder:"请输入运输编号"},null,8,["modelValue"])]),_:1}),a(b,{label:"投保单号",prop:"insurance_no"},{default:l(()=>[a(I,{modelValue:m.value.insurance_no,"onUpdate:modelValue":e[14]||(e[14]=t=>m.value.insurance_no=t),placeholder:"请输入投保单号"},null,8,["modelValue"])]),_:1}),a(b,{label:"货物名称",prop:"name"},{default:l(()=>[a(I,{modelValue:m.value.name,"onUpdate:modelValue":e[15]||(e[15]=t=>m.value.name=t),placeholder:"请输入货物名称"},null,8,["modelValue"])]),_:1}),a(b,{label:"货物数量",prop:"quantity"},{default:l(()=>[a(I,{modelValue:m.value.quantity,"onUpdate:modelValue":e[16]||(e[16]=t=>m.value.quantity=t),placeholder:"请输入货物数量"},null,8,["modelValue"])]),_:1}),a(b,{label:"承运人",prop:"carrier"},{default:l(()=>[a(I,{modelValue:m.value.carrier,"onUpdate:modelValue":e[17]||(e[17]=t=>m.value.carrier=t),placeholder:"请输入承运人"},null,8,["modelValue"])]),_:1}),a(b,{label:"收货人",prop:"consignee"},{default:l(()=>[a(I,{modelValue:m.value.consignee,"onUpdate:modelValue":e[18]||(e[18]=t=>m.value.consignee=t),placeholder:"请输入收货人"},null,8,["modelValue"])]),_:1}),a(b,{label:"被保人",prop:"insured"},{default:l(()=>[s("div",Kl,[a(Re,{modelValue:m.value.insured,"onUpdate:modelValue":e[19]||(e[19]=t=>m.value.insured=t),placeholder:"请选择被保人",style:{width:"300px"},disabled:m.value.same_as_borrower},{default:l(()=>[(g(!0),w(se,null,oe(A.value,t=>(g(),L(z,{key:t.value,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"]),a(Pe,{modelValue:m.value.same_as_borrower,"onUpdate:modelValue":e[20]||(e[20]=t=>m.value.same_as_borrower=t),onChange:e[21]||(e[21]=t=>Oe("cargo")),class:"same-borrower-checkbox",style:{"margin-left":"10px"}},{default:l(()=>e[64]||(e[64]=[u(" 同借款人 ")])),_:1,__:[64]},8,["modelValue"])])]),_:1}),a(b,{label:"商业险",prop:"commercial_amount"},{default:l(()=>[a(_e,{modelValue:m.value.commercial_amount,"onUpdate:modelValue":e[22]||(e[22]=t=>m.value.commercial_amount=t),precision:2,step:100,min:0,style:{width:"100%"},placeholder:"0.00"},null,8,["modelValue"])]),_:1}),a(b,{label:"开始日期",prop:"start_date"},{default:l(()=>[a(fe,{modelValue:m.value.start_date,"onUpdate:modelValue":e[23]||(e[23]=t=>m.value.start_date=t),type:"date",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",style:{width:"100%"},placeholder:"选择开始日期"},null,8,["modelValue"])]),_:1}),a(b,{label:"结束日期",prop:"end_date"},{default:l(()=>[a(fe,{modelValue:m.value.end_date,"onUpdate:modelValue":e[24]||(e[24]=t=>m.value.end_date=t),type:"date",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",style:{width:"100%"},placeholder:"选择结束日期"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),a(O,{modelValue:ne.value,"onUpdate:modelValue":e[27]||(e[27]=t=>ne.value=t),title:"批量导入投保信息",width:"600px"},{footer:l(()=>[s("span",dt,[a(r,{onClick:Va},{default:l(()=>e[75]||(e[75]=[u("取消")])),_:1,__:[75]}),a(r,{type:"primary",onClick:wa,loading:ye.value,disabled:!B.value},{default:l(()=>e[76]||(e[76]=[u(" 开始导入 ")])),_:1,__:[76]},8,["loading","disabled"])])]),default:l(()=>[s("div",Xl,[s("div",Zl,[a(G,{title:"导入说明",type:"info","show-icon":"",closable:!1},{default:l(()=>e[67]||(e[67]=[s("div",{class:"tips-content"},[s("p",null,"1. 请先下载模板，按照模板格式填写数据"),s("p",null,"2. 支持 .xlsx 和 .xls 格式文件"),s("p",null,"3. 必填字段不能为空，金额字段请填写数字"),s("p",null,"4. 日期格式：YYYY-MM-DD，如：2024-01-01")],-1)])),_:1,__:[67]})]),a(ge,{ref_key:"excelUploadRef",ref:W,class:"upload-demo",drag:"","auto-upload":!1,limit:1,accept:".xlsx,.xls","on-change":ya,"file-list":we.value},{tip:l(()=>e[68]||(e[68]=[s("div",{class:"el-upload__tip"}," 只能上传 .xlsx/.xls 文件，且不超过 10MB ",-1)])),default:l(()=>[a(d,{class:"el-icon--upload"},{default:l(()=>[a(V(be))]),_:1}),e[69]||(e[69]=s("div",{class:"el-upload__text"},[u(" 将Excel文件拖到此处，或"),s("em",null,"点击上传")],-1))]),_:1,__:[69]},8,["file-list"]),U.value?(g(),w("div",et,[a(j,null,{header:l(()=>e[70]||(e[70]=[s("span",null,"导入结果",-1)])),default:l(()=>[s("div",at,[a(E,{gutter:20},{default:l(()=>[a(y,{span:8},{default:l(()=>[s("div",lt,[s("div",tt,p(U.value.total),1),e[71]||(e[71]=s("div",{class:"stat-label"},"总数",-1))])]),_:1}),a(y,{span:8},{default:l(()=>[s("div",st,[s("div",ot,p(U.value.success),1),e[72]||(e[72]=s("div",{class:"stat-label"},"成功",-1))])]),_:1}),a(y,{span:8},{default:l(()=>[s("div",ut,[s("div",nt,p(U.value.fail),1),e[73]||(e[73]=s("div",{class:"stat-label"},"失败",-1))])]),_:1})]),_:1})]),U.value.errors&&U.value.errors.length>0?(g(),w("div",rt,[a(q,{"content-position":"left"},{default:l(()=>e[74]||(e[74]=[u("错误详情")])),_:1,__:[74]}),(g(!0),w(se,null,oe(U.value.errors,(t,_)=>(g(),w("div",{class:"error-item",key:_},[a(x,{type:"danger",size:"small"},{default:l(()=>[u(p(t),1)]),_:2},1024)]))),128))])):T("",!0)]),_:1})])):T("",!0)])]),_:1},8,["modelValue"]),a(O,{modelValue:J.value,"onUpdate:modelValue":e[28]||(e[28]=t=>J.value=t),title:"批量上传行驶证",width:"700px"},{footer:l(()=>[s("span",ct,[a(r,{onClick:Ua},{default:l(()=>e[81]||(e[81]=[u("取消")])),_:1,__:[81]}),a(r,{type:"primary",onClick:Ca,loading:H.value,disabled:M.value.length===0},{default:l(()=>e[82]||(e[82]=[u(" 开始上传识别 ")])),_:1,__:[82]},8,["loading","disabled"])])]),default:l(()=>[s("div",it,[s("div",pt,[a(G,{type:"info","show-icon":"",closable:!1},{default:l(()=>e[77]||(e[77]=[s("div",{class:"tips-content"},[s("p",null,"1. 支持 JPG、PNG、BMP、TIFF、WEBP 格式"),s("p",null,"2. 系统将自动OCR识别行驶证信息并匹配车险记录"),s("p",null,"3. 请确保先录入车险信息再上传对应的行驶证")],-1)])),_:1,__:[77]})]),a(ge,{ref_key:"driverLicenseUploadRef",ref:Ve,class:"upload-demo",drag:"",multiple:"","auto-upload":!1,limit:0,accept:"image/*","on-change":xa,"on-remove":ha,"file-list":ke.value},{tip:l(()=>e[78]||(e[78]=[s("div",{class:"el-upload__tip"}," 支持多张图片同时上传，每张不超过5MB ",-1)])),default:l(()=>[a(d,{class:"el-icon--upload"},{default:l(()=>[a(V(be))]),_:1}),e[79]||(e[79]=s("div",{class:"el-upload__text"},[u(" 将行驶证图片拖到此处，或"),s("em",null,"点击上传")],-1))]),_:1,__:[79]},8,["file-list"]),H.value?(g(),w("div",mt,[a(G,{title:"正在上传处理中...",type:"info","show-icon":"",closable:!1},{default:l(()=>[s("div",vt,[s("p",null,"已选择 "+p(M.value.length)+" 张图片",1),e[80]||(e[80]=s("p",null,"正在后台进行OCR识别和匹配处理，请稍后查看结果",-1))])]),_:1})])):T("",!0)])]),_:1},8,["modelValue"]),a(O,{modelValue:K.value,"onUpdate:modelValue":e[29]||(e[29]=t=>K.value=t),title:"批量上传投保单",width:"700px"},{footer:l(()=>[s("span",yt,[a(r,{onClick:Sa},{default:l(()=>e[87]||(e[87]=[u("取消")])),_:1,__:[87]}),a(r,{type:"primary",onClick:Ea,loading:re.value,disabled:Y.value.length===0},{default:l(()=>e[88]||(e[88]=[u(" 开始上传识别 ")])),_:1,__:[88]},8,["loading","disabled"])])]),default:l(()=>[s("div",_t,[s("div",ft,[a(G,{type:"info","show-icon":"",closable:!1},{default:l(()=>e[83]||(e[83]=[s("div",{class:"tips-content"},[s("p",null,"1. 支持 JPG、PNG、BMP、TIFF、WEBP 格式"),s("p",null,"2. 系统将自动OCR识别投保单信息并匹配保险记录"),s("p",null,"3. 请确保先录入保险信息再上传对应的投保单")],-1)])),_:1,__:[83]})]),a(ge,{ref_key:"insuranceFormUploadRef",ref:xe,class:"upload-demo",drag:"",multiple:"","auto-upload":!1,limit:0,accept:"image/*","on-change":Fa,"on-remove":Ta,"file-list":he.value},{tip:l(()=>e[84]||(e[84]=[s("div",{class:"el-upload__tip"}," 支持多张图片同时上传，每张不超过5MB ",-1)])),default:l(()=>[a(d,{class:"el-icon--upload"},{default:l(()=>[a(V(be))]),_:1}),e[85]||(e[85]=s("div",{class:"el-upload__text"},[u(" 将投保单图片拖到此处，或"),s("em",null,"点击上传")],-1))]),_:1,__:[85]},8,["file-list"]),re.value?(g(),w("div",gt,[a(G,{title:"正在上传处理中...",type:"info","show-icon":"",closable:!1},{default:l(()=>[s("div",bt,[s("p",null,"已选择 "+p(Y.value.length)+" 张图片",1),e[86]||(e[86]=s("p",null,"正在后台进行OCR识别和匹配处理，请稍后查看结果",-1))])]),_:1})])):T("",!0)])]),_:1},8,["modelValue"]),a(Vl,{visible:Te.value,"onUpdate:visible":e[30]||(e[30]=t=>Te.value=t),title:ie.value,"order-id":V(k).params.id,"ref-id":N.value,type:ee.value,onSuccess:D},null,8,["visible","title","order-id","ref-id","type"]),a(kl,{visible:pe.value,"onUpdate:visible":e[31]||(e[31]=t=>pe.value=t),title:ie.value,attachments:me.value,"order-id":V(k).params.id,"ref-id":N.value,type:ee.value,onRefresh:da,onDelete:ia,"allow-delete":!0},null,8,["visible","title","attachments","order-id","ref-id","type"]),a(O,{modelValue:Q.value,"onUpdate:modelValue":e[34]||(e[34]=t=>Q.value=t),title:`更新${f.value}状态 - ${f.value==="车险"?(je=S.value)==null?void 0:je.car_no:(Ge=S.value)==null?void 0:Ge.track_no}`,width:"500px"},{footer:l(()=>[s("span",wt,[a(r,{onClick:e[33]||(e[33]=t=>Q.value=!1)},{default:l(()=>e[89]||(e[89]=[u("取消")])),_:1,__:[89]}),a(r,{type:"primary",onClick:ga,loading:Ce.value},{default:l(()=>e[90]||(e[90]=[u(" 确定 ")])),_:1,__:[90]},8,["loading"])])]),default:l(()=>[a(Ie,{ref_key:"updateStatusFormRef",ref:Ue,model:X.value,rules:aa,"label-width":"100px"},{default:l(()=>[a(b,{label:f.value==="车险"?"车牌号":"运单号"},{default:l(()=>{var t,_;return[s("span",null,p(f.value==="车险"?(t=S.value)==null?void 0:t.car_no:(_=S.value)==null?void 0:_.track_no),1)]}),_:1},8,["label"]),a(b,{label:f.value==="车险"?"车架号":"承运车辆"},{default:l(()=>{var t,_;return[s("span",null,p(f.value==="车险"?(t=S.value)==null?void 0:t.vin:(_=S.value)==null?void 0:_.carrier),1)]}),_:1},8,["label"]),a(b,{label:"当前状态"},{default:l(()=>{var t;return[a(x,{type:te((t=S.value)==null?void 0:t.status)},{default:l(()=>{var _;return[u(p(((_=S.value)==null?void 0:_.status)||"未知"),1)]}),_:1},8,["type"])]}),_:1}),a(b,{label:"新状态",prop:"status"},{default:l(()=>[a(Re,{modelValue:X.value.status,"onUpdate:modelValue":e[32]||(e[32]=t=>X.value.status=t),placeholder:"请选择新状态",style:{width:"100%"}},{default:l(()=>[a(z,{label:"正常",value:"正常"}),a(z,{label:"逾期退保",value:"逾期退保"}),a(z,{label:"提前结清",value:"提前结清"}),a(z,{label:"逾期结清",value:"逾期结清"}),a(z,{label:"退保结清",value:"退保结清"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),a(O,{modelValue:de.value,"onUpdate:modelValue":e[35]||(e[35]=t=>de.value=t),title:"批量更新保险状态",width:"700px"},{footer:l(()=>[s("span",It,[a(r,{onClick:fa},{default:l(()=>e[101]||(e[101]=[u("取消")])),_:1,__:[101]}),a(r,{type:"primary",onClick:_a,loading:De.value,disabled:!$.value},{default:l(()=>e[102]||(e[102]=[u(" 开始更新 ")])),_:1,__:[102]},8,["loading","disabled"])])]),default:l(()=>[s("div",Vt,[s("div",kt,[a(G,{title:"更新说明",type:"info","show-icon":"",closable:!1},{default:l(()=>[s("div",xt,[e[91]||(e[91]=s("p",null,"1. 请先下载状态模板，按照模板格式填写数据",-1)),e[92]||(e[92]=s("p",null,"2. 支持 .xlsx 和 .xls 格式文件",-1)),f.value==="车险"?(g(),w("p",ht,"3. 车牌号和车架号至少填写一个")):(g(),w("p",Ut,"3. 运单号和承运车辆至少填写一个")),e[93]||(e[93]=s("p",null,"4. 新状态必须是：正常、逾期退保、提前结清、逾期结清、退保结清",-1))])]),_:1})]),a(ge,{ref_key:"batchUpdateStatusUploadRef",ref:Z,class:"upload-demo",drag:"","auto-upload":!1,limit:1,accept:".xlsx,.xls","on-change":ca,"file-list":Fe.value},{tip:l(()=>e[94]||(e[94]=[s("div",{class:"el-upload__tip"}," 只能上传 .xlsx/.xls 文件，且不超过 10MB ",-1)])),default:l(()=>[a(d,{class:"el-icon--upload"},{default:l(()=>[a(V(be))]),_:1}),e[95]||(e[95]=s("div",{class:"el-upload__text"},[u(" 将Excel文件拖到此处，或"),s("em",null,"点击上传")],-1))]),_:1,__:[95]},8,["file-list"]),C.value?(g(),w("div",Ct,[a(j,null,{header:l(()=>e[96]||(e[96]=[s("span",null,"更新结果",-1)])),default:l(()=>[s("div",Dt,[a(E,{gutter:20},{default:l(()=>[a(y,{span:8},{default:l(()=>[s("div",Ft,[s("div",Tt,p(C.value.total_count),1),e[97]||(e[97]=s("div",{class:"stat-label"},"总数",-1))])]),_:1}),a(y,{span:8},{default:l(()=>[s("div",St,[s("div",Et,p(C.value.success_count),1),e[98]||(e[98]=s("div",{class:"stat-label"},"成功",-1))])]),_:1}),a(y,{span:8},{default:l(()=>[s("div",Mt,[s("div",Yt,p(C.value.fail_count),1),e[99]||(e[99]=s("div",{class:"stat-label"},"失败",-1))])]),_:1})]),_:1})]),C.value.results&&C.value.results.length>0?(g(),w("div",Rt,[a(q,{"content-position":"left"},{default:l(()=>e[100]||(e[100]=[u("详细结果")])),_:1,__:[100]}),a(Ye,{data:C.value.results,border:"",size:"small","max-height":"300"},{default:l(()=>[a(v,{prop:"row",label:"行号",width:"60",align:"center"}),a(v,{prop:f.value==="车险"?"car_no":"track_no",label:f.value==="车险"?"车牌号":"运单号",width:"120"},null,8,["prop","label"]),a(v,{prop:f.value==="车险"?"vin":"carrier",label:f.value==="车险"?"车架号":"承运车辆",width:"150"},null,8,["prop","label"]),a(v,{prop:"new_status",label:"新状态",width:"100"}),a(v,{prop:"status",label:"处理状态",width:"100",align:"center"},{default:l(({row:t})=>[a(x,{type:t.status==="success"?"success":"danger",size:"small"},{default:l(()=>[u(p(t.status==="success"?"成功":"失败"),1)]),_:2},1032,["type"])]),_:1}),a(v,{prop:"message",label:"消息","min-width":"200"})]),_:1},8,["data"])])):T("",!0)]),_:1})])):T("",!0)])]),_:1},8,["modelValue"])])}}},ts=Ra(Lt,[["__scopeId","data-v-252a85b5"]]);export{ts as default};
